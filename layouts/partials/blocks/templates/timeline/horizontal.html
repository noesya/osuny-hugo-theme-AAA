{{- $heading_tag := partial "GetHeadingTag" (dict 
  "level" .block.ranks.children
  "attributes" "class='title' itemprop='name'"
  ) -}}

{{ with .block.data }}
  <div class="timeline-events">
    <ol data-slider="{{ site.Params.blocks.timeline.slider | encoding.Jsonify }}">
      {{ range .events }}
        <li class="timeline-event">
          {{ $heading_tag.open -}}
            {{ .title | safeHTML }}
          {{ $heading_tag.close -}}
          <div class="line"></div>
          {{ with .text }}
            <div itemprop="text">{{- partial "PrepareHTML" . -}}</div>
          {{ end }}
        </li>
      {{ end }}
    </ol>
  </div>
{{ end }}