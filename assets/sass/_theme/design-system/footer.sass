footer#document-footer
    background: $footer-background-color
    color: $footer-color
    padding-bottom: $spacing-5
    padding-top: $spacing-5
    position: relative
    @include media-breakpoint-down(desktop)
        z-index: $zindex-footer
    a
        color: $footer-color
        @extend %underline-on-hover
    .logo
        @extend %logo
        img
            height: $footer-logo-height
            max-width: 100%
            @include media-breakpoint-up(desktop)
                height: $footer-logo-height-desktop
    ul
        @include list-reset
        li + li
                margin-top: $spacing-2
    .footer
        &-site
            @include small
            * + *
                margin-top: $spacing-2
        &-social, &-legals, &-credit
            @include meta
        &-credit
            display: block
            margin-top: $spacing-2
            a
                text-decoration-color: alphaColor(currentColor, 0.3)
        &-search
            padding-top: $spacing-2 !important
        &-i18n
            position: relative
            button
                @include button-reset
                @include icon(caret-bottom, after)
                @include meta
                align-items: center
                color: inherit
                cursor: pointer
                display: flex
                justify-content: space-between
                padding-left: 0
                &:focus,
                &:focus-visible
                    box-shadow: none
                &[aria-expanded="true"]
                    background: $dropdown-i18n-background-color
                    color: $dropdown-i18n-color
                    min-width: $spacing-6
                    outline: $spacing-2 solid $dropdown-i18n-background-color
                    + .dropdown-menu
                        animation-duration: unset
                    @include media-breakpoint-up(desktop)
                        &::after
                            transform: rotate(0)
                    @include media-breakpoint-down(desktop)
                        // on mobile devices the element takes the screen width
                        margin: 0 var(--grid-gutter-negative)
                        padding: 0 $grid-gutter $spacing-2
                        position: relative
                        width: calc(100% - calc(var(--grid-gutter-negative) * 2))
                        &::before
                            background: $color-border
                            content: ''
                            height: 1px
                            left: 0
                            position: absolute
                            top: -$spacing-2
                            width: 100%
                        &::after
                            transform: rotate(-180deg)
                &::before
                    margin-right: $spacing-2
                &::after
                    margin-left: $spacing-2
            .dropdown-menu
                @include meta
                background: $dropdown-i18n-background-color
                margin-left: -$spacing-2
                margin-right: -$spacing-2
                right: 0
                a
                    color: $dropdown-i18n-color
                    padding: $spacing-2 $grid-gutter
                    display: block
                ul
                    li + li
                        margin-top: 0
                @include media-breakpoint-up(desktop)
                    left: 0
                    max-height: calc(100vh - var(--header-height))
                    min-width: calc(#{$spacing-6} + #{$spacing-2} * 2)
                    padding-top: $spacing-2
                    position: absolute
                    top: 0
                    transform: translateY(-100%)
                    a
                        padding: 0 $spacing-2 $spacing-2
                    a:focus-visible
                        outline-offset: -1px
                @include media-breakpoint-down(desktop)
                    margin: 0 var(--grid-gutter-negative)
                    border-top: 1px solid $color-border
                    li
                        border-bottom: 1px solid $color-border

        @if $footer-icons-enabled
            &-social 
                .nav-social + .site-links
                    margin-top: $spacing-3
                &.site-links li
                    align-items: center
                    display: flex
                    justify-content: flex-end
                    position: relative
                    a
                        @include stretched-link
                    &.facebook
                        @include icon(social-facebook, after)
                    &.instagram
                        @include icon(social-instagram, after)
                    &.linkedin
                        @include icon(social-linkedin, after)
                    &.mastodon
                        @include icon(social-mastodon, after)
                    &.youtube
                        @include icon(social-youtube, after)
                    &.x
                        @include icon(social-x, after)
                    &.peertube
                        @include icon(social-peertube, after)
                    &.vimeo
                        @include icon(social-vimeo, after)
                    &.tiktok
                        @include icon(social-tiktok, after)
                    &.github
                        @include icon(social-github, after)
                    &.email
                        @include icon(social-email, after)
                    &.rss
                        @include icon(social-rss, after)
                    &::after
                        font-size: $footer-icons-size
                        @include media-breakpoint-up(desktop)
                            margin-right: -0.2em
                            padding-left: $spacing-2
                    @include media-breakpoint-down(desktop)
                        width: fit-content
                        flex-direction: row-reverse
                        &::after
                            margin-right: $spacing-2
                            transform: translateX(-25%)
        @if $footer-text-hidden
            &-social.site-links li
                font-size: 0

    @include media-breakpoint-down(desktop)
        .container
            + .container,
            > * + *
                margin-top: $spacing-5

    @include media-breakpoint-up(desktop)
        .container
            display: flex
            justify-content: space-between
            padding-bottom: $spacing-5
            + .container
                align-items: flex-end
                padding-top: $spacing-5
                padding-bottom: 0
        .footer
            &-site, &-social
                text-align: right
            &-social
                order: 2
